{% extends 'login/base.html' %}

{% block title %} 请登陆 {% endblock %}

{% load static %}
<link href="{% static 'login/signin.css' %}" rel="stylesheet">

{% block content %}

    {% if state %}
        <div class="col-md-2 col-md-offset-5">
            <div class="alert alert-warning">
                <a href="#" class="close" data-dismiss="alert">&times;</a>
                {% if state == 'success' %}
                    <h2> 注册成功！ </h2>
                {% elif state == 'repeat_error' %}
                    <h2> 密码重复错误 </h2>
                {% elif state == 'empty' %}
                    <h2> 密码不能为空 </h2>
                {% elif state == 'user_exist' %}
                    <h2> 用户已经存在,<a href="{%url 'login:login'%}">请点击此处跳转登录界面</a> </h2>
                {% endif %}
            </div>
        </div>
    {% endif %}

     <div class="container">
        <div class="col-md-4 col-md-offset-4">
          <form class='form-register' action="{%url 'login:userRegister'%}" method="post">

              {% if message %}
                  <div class="alert alert-warning">{{ message }}</div>
              {% endif %}

              {% csrf_token %}

              <h2 class="text-center">欢迎注册</h2>
              <div class="form-group">
                  {{ register_form.username.label_tag }}
                  {{ register_form.username}}
              </div>
              <div class="form-group">
                  {{ register_form.password1.label_tag }}
                  {{ register_form.password1 }}
              </div>
              <div class="form-group">
                  {{ register_form.password2.label_tag }}
                  {{ register_form.password2 }}
              </div>
              <div class="form-group">
                  {{ register_form.name.label_tag }}
                  {{ register_form.name }}
              </div>
              <div class="form-group">
                  {{ register_form.photo.label_tag }}
                  {{ register_form.photo }}
              </div>
              <div class="form-group">
                  {{ register_form.sex.label_tag }}
                  {{ register_form.sex }}
              </div>
              <div class="form-group">
                  {{ register_form.captcha.errors }}
                  {{ register_form.captcha.label_tag }}
                  {{ register_form.captcha }}
              </div>

              <button type="reset" class="btn btn-default pull-left">重置</button>
              <button type="submit" class="btn btn-primary pull-right">提交</button>

          </form>
        </div>
    </div> <!-- /container -->


{% endblock %}



